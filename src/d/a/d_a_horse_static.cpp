//
// Generated By: dol2asm
// Translation Unit: d/a/d_a_horse_static
//

#include "d/a/d_a_horse_static.h"
#include "dol2asm.h"
#include "dolphin/types.h"

BOOL e_wb_class::checkWait() {
    return unk1460 == 0x2A;
}

void e_wb_class::setPlayerRideNow() {
    unk1680 = 0x67;
    unk1460 = 0;
    unk1726 |= 3;
}

void e_wb_class::setPlayerRide() {
    unk1680 = 0x65;
    unk1460 = 0;
    unk1726 |= 3;

    mZ2Ride.setLinkRiding(true);
}

void e_wb_class::getOff() {
    if (!checkDownDamage() || unk1680 == 0x67) {
        unk1680 = 0;
    } else {
        unk1682 = 0;
    }
    unk1460 = 0;
    unk1726 &= 0xfffc;
    mZ2Ride.setLinkRiding(false);
}

BOOL e_wb_class::checkDownDamage() {
    bool downDamage = false;
    s16 tmp = unk1680;

    if (tmp != 0x65 && tmp != 0x66 && tmp != 0x15) {
        downDamage = true;
    }
    return downDamage;
}

u8 e_wb_class::checkNormalRideMode() const {
    bool normalRideMode = false;

    if (unk1680 != 0x66 || unk1460 < 1) {
        normalRideMode = 1;
    }
    return normalRideMode;
}

void e_wb_class::setRunRideMode() {
    if (unk1680 == 0x65) {
        unk1460 = 0;
        unk1680 = 0x15;
        unk1682 = 0x65;
    }
}

daTagHstop_c* daTagHstop_c::m_top;
