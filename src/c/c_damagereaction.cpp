//
// Generated By: dol2asm
// Translation Unit: c/c_damagereaction
//

#include "c/c_damagereaction.h"
#include "d/actor/d_a_player.h"
#include "d/d_com_inf_game.h"
#include "f_op/f_op_actor_mng.h"

/* ############################################################################################## */
/* 80450C98-80450C9C -00001 0004+00 0/0 0/0 50/50 .sbss            None */
extern u8 struct_80450C98[4];
u8 struct_80450C98[4];

/* 80450C9C-80450CA0 -00001 0004+00 0/0 0/0 6/6 .sbss            None */
u8 cDmr_SkipInfo;
u8 data_80450C9D;
u8 data_80450C9E;
u8 data_80450C9F;

/* 8001817C-800182A4 012ABC 0128+00 1/0 0/0 0/0 .text
 * execute__24JPTraceParticleCallBack4FP14JPABaseEmitterP15JPABaseParticle */
void JPTraceParticleCallBack4::execute(JPABaseEmitter* param_0, JPABaseParticle* param_1) {
    u32 age = param_1->getAge();
    if (age != 0) {
        Vec* user_work = (Vec*)param_0->getUserWork();
        JGeometry::TVec3<f32> vec1, vec2, vec3;
        f32 fVar1 = (25.0f - age) / 25.0f;
        if (fVar1 < 0.0f) {
            fVar1 = 0.0f;
        }
        vec1 = user_work[age];
        vec1.scale(0.3f * fVar1);
        vec2 = user_work[0];
        vec2.scale(0.5f * fVar1);

        param_1->getOffsetPosition(vec3);
        vec3.add(vec1 + vec2);
        param_1->setOffsetPosition(vec3);
    }
}


/* 800182A4-800182A8 012BE4 0004+00 1/0 0/0 0/0 .text
 * draw__24JPTraceParticleCallBack4FP14JPABaseEmitterP15JPABaseParticle */
void JPTraceParticleCallBack4::draw(JPABaseEmitter* param_0, JPABaseParticle* param_1) {
    /* empty function */
}

/* 800182A8-80018328 012BE8 0080+00 0/0 0/0 22/22 .text            cDmrNowMidnaTalk__Fv */
BOOL cDmrNowMidnaTalk() {
    if (dComIfGp_event_runCheck()) {
        fopAc_ac_c* actor = (fopAc_ac_c*)fopAcM_getTalkEventPartner(daPy_getLinkPlayerActorClass());
        if (actor) {
            if (fopAcM_GetName(actor) == PROC_MIDNA || fopAcM_GetName(actor) == PROC_Tag_Mhint ||
                     fopAcM_GetName(actor) == PROC_Tag_Mstop || fopAcM_GetName(actor) == PROC_Tag_Hstop ||
                     fopAcM_GetName(actor) == PROC_Tag_Mwait || fopAcM_GetName(actor) == PROC_Tag_Wljump) {
                return 1;
            }
        }
    }

    return 0;
}

/* 80450CA0-80450CA4 0001A0 0004+00 0/0 0/0 2/2 .sbss            None */
extern u8 data_80450CA0[4];
u8 data_80450CA0[4];

/* 80450CA4-80450CA8 0001A4 0004+00 1/1 1/1 1/1 .sbss            JPTracePCB4 */
JPTraceParticleCallBack4 JPTracePCB4;
