//
// Generated By: dol2asm
// Translation Unit: MSL_Common/Src/wchar_io
//

#include "MSL_C/MSL_Common/Src/ansi_files.h"
#include "MSL_C/MSL_Common/Src/wchar_io.h"
#include "dol2asm.h"
#include "dolphin/types.h"

//
// Forward References:
//

int fwide(FILE* stream, int mode);

//
// External References:
//

//
// Declarations:
//

/* 80369114-8036919C 363A54 0088+00 0/0 5/5 0/0 .text            fwide */
int fwide(FILE* stream, int mode) {
	int orientation;

	if (stream == NULL || stream->file_mode.file_kind == CLOSED_FILE) {
		return 0;
    }

	switch (stream->file_mode.file_orientation) {
	case UNORIENTED:
		if (mode > 0) {
			stream->file_mode.file_orientation = WIDE_ORIENTED;
        } else if (mode < 0) {
			stream->file_mode.file_orientation = CHAR_ORIENTED;
        }
		return mode;
	case WIDE_ORIENTED:
		return 1;
	case CHAR_ORIENTED:
		return -1;
	}
}
