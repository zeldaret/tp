//
// Generated By: dol2asm
// Translation Unit: processor
//

#include "JSystem/JMessage/processor.h"
#include "JSystem/JMessage/control.h"
#include "JSystem/JUtility/JUTAssert.h"

//
// Forward References:
//

extern "C" void __dt__Q28JMessage10TReferenceFv();
extern "C" bool do_word__Q28JMessage10TReferenceCFUl();
extern "C" void __dt__Q28JMessage10TProcessorFv();
extern "C" void reset__Q28JMessage10TProcessorFv();
extern "C" void stack_pushCurrent__Q28JMessage10TProcessorFPCc();
extern "C" void stack_popCurrent__Q28JMessage10TProcessorFv();
extern "C" void getResource_groupID__Q28JMessage10TProcessorCFUs();
extern "C" void toMessageCode_messageID__Q28JMessage10TProcessorCFUlUlPb();
extern "C" void on_select_begin__Q28JMessage10TProcessorFPFPQ28JMessage10TProcessor_PCcPCvPCcUl();
extern "C" void on_select_end__Q28JMessage10TProcessorFv();
extern "C" void on_select_separate__Q28JMessage10TProcessorFv();
extern "C" void do_reset__Q28JMessage10TProcessorFv();
extern "C" void do_begin__Q28JMessage10TProcessorFPCvPCc();
extern "C" void do_end__Q28JMessage10TProcessorFv();
extern "C" void do_character__Q28JMessage10TProcessorFi();
extern "C" bool do_tag__Q28JMessage10TProcessorFUlPCvUl();
extern "C" void do_select_begin__Q28JMessage10TProcessorFUl();
extern "C" void do_select_end__Q28JMessage10TProcessorFv();
extern "C" void do_select_separate__Q28JMessage10TProcessorFv();
extern "C" void on_tag___Q28JMessage10TProcessorFv();
extern "C" void do_resetStatus___Q28JMessage10TProcessorFPCc();
extern "C" bool do_setBegin_isReady___Q28JMessage10TProcessorCFv();
extern "C" void do_tag___Q28JMessage10TProcessorFUlPCvUl();
extern "C" void process_character___Q28JMessage10TProcessorFv();
extern "C" void process_onCharacterEnd_normal___Q28JMessage10TProcessorFPQ28JMessage10TProcessor();
extern "C" void process_onCharacterEnd_select___Q28JMessage10TProcessorFPQ28JMessage10TProcessor();
extern "C" void process_onSelect_limited___Q28JMessage10TProcessorFPQ28JMessage10TProcessor();
extern "C" void process_onSelect___Q28JMessage10TProcessorFPQ28JMessage10TProcessor();
extern "C" void
__ct__Q28JMessage18TSequenceProcessorFPCQ28JMessage10TReferencePQ28JMessage8TControl();
extern "C" void __dt__Q28JMessage18TSequenceProcessorFv();
extern "C" void process__Q28JMessage18TSequenceProcessorFPCc();
extern "C" void on_isReady__Q28JMessage18TSequenceProcessorFv();
extern "C" void
on_jump_register__Q28JMessage18TSequenceProcessorFPFPCQ28JMessage18TSequenceProcessor_PCvUl();
extern "C" void on_jump_isReady__Q28JMessage18TSequenceProcessorFv();
extern "C" void on_jump__Q28JMessage18TSequenceProcessorFPCvPCc();
extern "C" void
on_branch_register__Q28JMessage18TSequenceProcessorFPFPCQ28JMessage18TSequenceProcessorUl_PCvPCvUl();
extern "C" void on_branch_query__Q28JMessage18TSequenceProcessorFUl();
extern "C" void on_branch_queryResult__Q28JMessage18TSequenceProcessorFv();
extern "C" void on_branch__Q28JMessage18TSequenceProcessorFPCvPCc();
extern "C" bool do_isReady__Q28JMessage18TSequenceProcessorFv();
extern "C" bool do_jump_isReady__Q28JMessage18TSequenceProcessorFv();
extern "C" void do_jump__Q28JMessage18TSequenceProcessorFPCvPCc();
extern "C" void do_branch_query__Q28JMessage18TSequenceProcessorFUl();
extern "C" s32 do_branch_queryResult__Q28JMessage18TSequenceProcessorFv();
extern "C" void do_branch__Q28JMessage18TSequenceProcessorFPCvPCc();
extern "C" void do_resetStatus___Q28JMessage18TSequenceProcessorFPCc();
extern "C" void do_setBegin_isReady___Q28JMessage18TSequenceProcessorCFv();
extern "C" void do_begin___Q28JMessage18TSequenceProcessorFPCvPCc();
extern "C" void do_end___Q28JMessage18TSequenceProcessorFv();
extern "C" void do_tag___Q28JMessage18TSequenceProcessorFUlPCvUl();
extern "C" void process_setMessageIndex_reserved___Q28JMessage18TSequenceProcessorFUs();
extern "C" void
process_setMessageCode___Q28JMessage18TSequenceProcessorFPCQ28JMessage18TSequenceProcessorUsUs();
extern "C" void
process_onJump_limited___Q28JMessage18TSequenceProcessorFPCQ28JMessage18TSequenceProcessor();
extern "C" void
process_onJump___Q28JMessage18TSequenceProcessorFPCQ28JMessage18TSequenceProcessor();
extern "C" void
process_onBranch_limited___Q28JMessage18TSequenceProcessorFPCQ28JMessage18TSequenceProcessorUl();
extern "C" void
process_onBranch___Q28JMessage18TSequenceProcessorFPCQ28JMessage18TSequenceProcessorUl();
extern "C" void __ct__Q28JMessage19TRenderingProcessorFPCQ28JMessage10TReference();
extern "C" void __dt__Q28JMessage19TRenderingProcessorFv();
extern "C" void process__Q28JMessage19TRenderingProcessorFPCc();
extern "C" void do_begin___Q28JMessage19TRenderingProcessorFPCvPCc();
extern "C" void do_end___Q28JMessage19TRenderingProcessorFv();
extern "C" void do_tag___Q28JMessage19TRenderingProcessorFUlPCvUl();
extern "C" void on_message__Q28JMessage10TProcessorCFUl();
extern "C" void getMessageText_messageCode__Q28JMessage10TProcessorCFUl();

//
// External References:
//

extern "C" void setMessageCode_inSequence___Q28JMessage8TControlFPCQ28JMessage10TProcessorUsUs();
extern "C" void toMessageIndex_messageID__Q28JMessage9TResourceCFUlUlPb();
extern "C" void Get_groupID__Q38JMessage18TResourceContainer10TCResourceFUs();
extern "C" void __dl__FPv();
extern "C" void _savegpr_26();
extern "C" void _savegpr_28();
extern "C" void _savegpr_29();
extern "C" void _restgpr_26();
extern "C" void _restgpr_28();
extern "C" void _restgpr_29();

//
// Declarations:
//

/* 802A7AF8-802A7B40 2A2438 0048+00 1/0 2/2 0/0 .text            __dt__Q28JMessage10TReferenceFv */
JMessage::TReference::~TReference() {}

/* 802A7B40-802A7B48 2A2480 0008+00 1/0 2/0 0/0 .text do_word__Q28JMessage10TReferenceCFUl */
const char* JMessage::TReference::do_word(u32 param_0) const {
    return NULL;
}

/* 802A7B48-802A7B90 2A2488 0048+00 3/2 0/0 0/0 .text            __dt__Q28JMessage10TProcessorFv */
JMessage::TProcessor::~TProcessor() {}

/* 802A7B90-802A7BF8 2A24D0 0068+00 0/0 1/1 0/0 .text            reset__Q28JMessage10TProcessorFv */
void JMessage::TProcessor::reset() {
    on_resetStatus_(NULL);
    do_reset();
}

/* 802A7BF8-802A7C30 2A2538 0038+00 1/1 8/8 0/0 .text
 * stack_pushCurrent__Q28JMessage10TProcessorFPCc               */
void JMessage::TProcessor::stack_pushCurrent(char const* string) {
    if (string != NULL) {
        if (!oStack_.IsPushable()) {
            return;
        }

        stack_pushCurrent_(string);
    }
}

/* 802A7C30-802A7C54 2A2570 0024+00 1/1 0/0 0/0 .text stack_popCurrent__Q28JMessage10TProcessorFv
 */
void JMessage::TProcessor::stack_popCurrent() {
    stack_popCurrent_();
}

/* 802A7C54-802A7CD4 2A2594 0080+00 1/1 1/1 0/0 .text
 * getResource_groupID__Q28JMessage10TProcessorCFUs             */
const JMessage::TResource* JMessage::TProcessor::getResource_groupID(u16 groupID) const {
    if (isResourceCache_groupID(groupID)) {
        return pResourceCache_;
    }

    // Is there another way to do this?
    ((JMessage::TProcessor*)this)->pResourceCache_ = getResource_groupID_uncached(groupID);
    return pResourceCache_;
}

/* 802A7CD4-802A7E38 2A2614 0164+00 0/0 1/1 0/0 .text
 * toMessageCode_messageID__Q28JMessage10TProcessorCFUlUlPb     */
// TContainerEnumerator_const inline issues + while condition
#ifdef NONMATCHING
u32 JMessage::TProcessor::toMessageCode_messageID(u32 param_0, u32 param_1,
                                                      bool* param_2) const {
    const TResource* this_00 = getResourceCache();
    u16 uVar4;
    if (this_00 != NULL && (uVar4 = this_00->toMessageIndex_messageID(param_0, param_1, param_2)) != 0xffff) {
        return uVar4 | (this_00->getGroupID() << 16);
    }
    TResourceContainer* this_01 = getResourceContainer();
    if (this_01 == NULL) {
        return -1;
    }

    JGadget::TContainerEnumerator_const<TResourceContainer::TCResource, 0> enumerator(this_01->getResourceContainer());
    const TResource* this_02;
    while (!enumerator) {
        this_02 = (const TResource*)&(*enumerator);
        if (this_02 == this_00 || (uVar4 = this_02->toMessageIndex_messageID(param_0, param_1, param_2)) == 0xffff) {
            continue;
        }
        ((JMessage::TProcessor*)this)->pResourceCache_ = this_02;
        return uVar4 | (this_02->getGroupID() << 0x10);
    }
    return -1;
}
#else
#pragma push
#pragma optimization_level 0
#pragma optimizewithasm off
asm u32 JMessage::TProcessor::toMessageCode_messageID(u32 param_0, u32 param_1,
                                                      bool* param_2) const {
    nofralloc
#include "asm/JSystem/JMessage/processor/toMessageCode_messageID__Q28JMessage10TProcessorCFUlUlPb.s"
}
#pragma pop
#endif

/* 802A7E38-802A7EDC 2A2778 00A4+00 1/1 0/0 0/0 .text
 * on_select_begin__Q28JMessage10TProcessorFPFPQ28JMessage10TProcessor_PCcPCvPCcUl */
void JMessage::TProcessor::on_select_begin(char const* (*param_0)(JMessage::TProcessor*),
                                           void const* param_1, char const* param_2, u32 param_3) {
    if (stack_isPushable()) {
        oProcess_.reset_select();

        oProcess_.rData.pfn = param_0;
        oProcess_.rData.pcBase = param_2;
        oProcess_.rData.pOffset = param_1;
        oProcess_.rData.uRest = param_3;

        const char* psz = param_0(this);
        stack_pushCurrent_(psz);
        do_select_begin(param_3);
    }
}

/* 802A7EDC-802A7F34 2A281C 0058+00 1/1 0/0 0/0 .text on_select_end__Q28JMessage10TProcessorFv */
void JMessage::TProcessor::on_select_end() {
    oProcess_.reset_normal();

    stack_popCurrent_();
    do_select_end();
}

/* 802A7F34-802A7FC0 2A2874 008C+00 1/1 0/0 0/0 .text
 * on_select_separate__Q28JMessage10TProcessorFv                */
void JMessage::TProcessor::on_select_separate() {
    stack_popCurrent_();

    const char* psz = oProcess_.rData.pfn(this);
    stack_pushCurrent_(psz);
    do_select_separate();
}

/* 802A7FC0-802A7FC4 2A2900 0004+00 3/0 2/0 0/0 .text            do_reset__Q28JMessage10TProcessorFv
 */
void JMessage::TProcessor::do_reset() {}

/* 802A7FC4-802A7FC8 2A2904 0004+00 3/0 0/0 0/0 .text do_begin__Q28JMessage10TProcessorFPCvPCc */
void JMessage::TProcessor::do_begin(void const* param_0, char const* param_1) {}

/* 802A7FC8-802A7FCC 2A2908 0004+00 3/0 0/0 0/0 .text            do_end__Q28JMessage10TProcessorFv
 */
void JMessage::TProcessor::do_end() {}

/* 802A7FCC-802A7FD0 2A290C 0004+00 3/0 0/0 0/0 .text do_character__Q28JMessage10TProcessorFi */
void JMessage::TProcessor::do_character(int param_0) {}

/* 802A7FD0-802A7FD8 2A2910 0008+00 3/0 0/0 0/0 .text do_tag__Q28JMessage10TProcessorFUlPCvUl */
bool JMessage::TProcessor::do_tag(u32 param_0, void const* param_1, u32 param_2) {
    return false;
}

/* 802A7FD8-802A7FDC 2A2918 0004+00 3/0 6/0 0/0 .text do_select_begin__Q28JMessage10TProcessorFUl
 */
void JMessage::TProcessor::do_select_begin(u32 param_0) {}

/* 802A7FDC-802A7FE0 2A291C 0004+00 3/0 6/0 0/0 .text do_select_end__Q28JMessage10TProcessorFv */
void JMessage::TProcessor::do_select_end() {}

/* 802A7FE0-802A7FE4 2A2920 0004+00 3/0 6/0 0/0 .text
 * do_select_separate__Q28JMessage10TProcessorFv                */
void JMessage::TProcessor::do_select_separate() {}

/* 802A7FE4-802A8084 2A2924 00A0+00 1/1 0/0 0/0 .text            on_tag___Q28JMessage10TProcessorFv
 */
void JMessage::TProcessor::on_tag_() {
    u32 size;
    u8* psz = (u8*)getCurrent();
    size = *psz;

    pszCurrent_ = size + (char*)psz + -1;

    u32 tag = (psz[1] << 0x8) | psz[2];
    tag <<= 8;
    tag |= psz[3];

    on_tag(tag, &psz[4], size - 5);
}

/* 802A8084-802A8088 2A29C4 0004+00 2/0 4/0 0/0 .text do_resetStatus___Q28JMessage10TProcessorFPCc
 */
void JMessage::TProcessor::do_resetStatus_(char const* param_0) {}

/* 802A8088-802A8090 2A29C8 0008+00 2/0 4/0 0/0 .text
 * do_setBegin_isReady___Q28JMessage10TProcessorCFv             */
bool JMessage::TProcessor::do_setBegin_isReady_() const {
    return true;
}

/* 802A8090-802A81EC 2A29D0 015C+00 2/2 0/0 0/0 .text do_tag___Q28JMessage10TProcessorFUlPCvUl */
void JMessage::TProcessor::do_tag_(u32 uTag, void const* data, u32 uSize) {
    u32 group = data::getTagGroup(uTag);
    u32 code = data::getTagCode(uTag);

    switch (group) {
    case 0xFF:
        switch (code) {
        case 4:
            stack_pushCurrent(
                on_word(JGadget::binary::TParseValue<u32, TParseValue_endian_big_>::parse(data)));
            break;
        case 5:
            stack_pushCurrent(on_message(
                JGadget::binary::TParseValue<u32, TParseValue_endian_big_>::parse(data)));
            break;
        }
        break;
    case 0xFE:
        stack_pushCurrent(on_word(code));
        break;
    case 0xFD:
        stack_pushCurrent(on_message_limited(code));
        break;
    case 0xF6:
        on_select_begin(process_onSelect_limited_, data, (char*)data + uSize, code);
        break;
    case 0xF5:
        on_select_begin(process_onSelect_, data, (char*)data + uSize, code);
        break;
    }
}

/* 802A81EC-802A828C 2A2B2C 00A0+00 2/2 0/0 0/0 .text
 * process_character___Q28JMessage10TProcessorFv                */
bool JMessage::TProcessor::process_character_() {
    int character = on_parseCharacter(&pszCurrent_);

    switch (character) {
    case 0:
        if (!oProcess_.pfnProcess_CharacterEnd(this)) {
            return false;
        }
        break;
    case data::gcTagBegin:
        on_tag_();
        break;
    default:
        on_character(character);
    }

    return true;
}

/* 802A828C-802A82F4 2A2BCC 0068+00 6/6 6/6 0/0 .text
 * process_onCharacterEnd_normal___Q28JMessage10TProcessorFPQ28JMessage10TProcessor */
bool JMessage::TProcessor::process_onCharacterEnd_normal_(JMessage::TProcessor* pThis) {
    if (!pThis->oStack_.empty()) {
        pThis->stack_popCurrent();
        return true;
    }

    pThis->on_end();
    return false;
}

/* 802A82F4-802A833C 2A2C34 0048+00 1/1 0/0 0/0 .text
 * process_onCharacterEnd_select___Q28JMessage10TProcessorFPQ28JMessage10TProcessor */
bool JMessage::TProcessor::process_onCharacterEnd_select_(JMessage::TProcessor* pThis) {
    pThis->oProcess_.rData.uRest--;

    if (pThis->oProcess_.rData.uRest != 0) {
        pThis->on_select_separate();
        return true;
    }

    pThis->on_select_end();
    return true;
}

/* 802A833C-802A8358 2A2C7C 001C+00 1/1 0/0 0/0 .text
 * process_onSelect_limited___Q28JMessage10TProcessorFPQ28JMessage10TProcessor */
const char* JMessage::TProcessor::process_onSelect_limited_(JMessage::TProcessor* pThis) {
    u16 data = JGadget::binary::TParseValue<u16, TParseValue_endian_big_>::parse((u16*)pThis->oProcess_.rData.pOffset);

    pThis->oProcess_.rData.pOffset =
        (void*)((u8*)pThis->oProcess_.rData.pOffset + 2);

    return &pThis->oProcess_.rData.pcBase[data];
}

/* 802A8358-802A8374 2A2C98 001C+00 1/1 0/0 0/0 .text
 * process_onSelect___Q28JMessage10TProcessorFPQ28JMessage10TProcessor */
const char* JMessage::TProcessor::process_onSelect_(JMessage::TProcessor* pThis) {
    u32 data = JGadget::binary::TParseValue<u32, TParseValue_endian_big_>::parse((u32*)pThis->oProcess_.rData.pOffset);

    pThis->oProcess_.rData.pOffset =
        (void*)((u8*)pThis->oProcess_.rData.pOffset + 4);

    return &pThis->oProcess_.rData.pcBase[data];
}

/* 802A8374-802A83B8 2A2CB4 0044+00 0/0 2/2 0/0 .text
 * __ct__Q28JMessage18TSequenceProcessorFPCQ28JMessage10TReferencePQ28JMessage8TControl */
JMessage::TSequenceProcessor::TSequenceProcessor(JMessage::TReference const* param_0,
                                                 JMessage::TControl* param_1)
    : TProcessor(param_0), pControl_(param_1), eStatus_(STATUS_READY) {}

/* 802A83B8-802A8418 2A2CF8 0060+00 1/0 2/2 0/0 .text __dt__Q28JMessage18TSequenceProcessorFv */
JMessage::TSequenceProcessor::~TSequenceProcessor() {}

/* 802A8418-802A85A4 2A2D58 018C+00 0/0 1/1 0/0 .text process__Q28JMessage18TSequenceProcessorFPCc
 */
const char* JMessage::TSequenceProcessor::process(char const* param_0) {
    do {
        switch (eStatus_) {
        case STATUS_NORMAL:
            break;
        case STATUS_JUMP:
            if (!on_jump_isReady()) {
                return pszCurrent_;
            }

            eStatus_ = STATUS_NORMAL;
            const void* data = oProcess2_.process.jump_process.jumpFn(this);
            if (data != NULL) {
                on_jump(data, pControl_->getMessageText_begin());
            }
            break;
        case STATUS_BRANCH:
            u32 tmp = on_branch_queryResult();
            if (tmp > 0x7FFFFFFF) {
                switch (tmp) {
                case -1:
                    return pszCurrent_;
                case -2:
                    eStatus_ = STATUS_NORMAL;
                    break;
                }
            } else {
                eStatus_ = STATUS_NORMAL;

                if (tmp < oProcess2_.process.branch_process.uTarget) {
                    const void* data = oProcess2_.process.branch_process.branchFn(this, tmp);
                    if (data != NULL) {
                        on_branch(data, pControl_->getMessageText_begin());
                    }
                }
            }
            break;
        }

        if (pszCurrent_ == param_0) {
            on_end();
            return NULL;
        }

        if (!on_isReady()) {
            return pszCurrent_;
        }
    } while (process_character_());

    return NULL;
}

/* 802A85A4-802A85D0 2A2EE4 002C+00 1/1 0/0 0/0 .text
 * on_isReady__Q28JMessage18TSequenceProcessorFv                */
bool JMessage::TSequenceProcessor::on_isReady() {
    return do_isReady();
}

/* 802A85D0-802A85E4 2A2F10 0014+00 1/1 0/0 0/0 .text
 * on_jump_register__Q28JMessage18TSequenceProcessorFPFPCQ28JMessage18TSequenceProcessor_PCvUl */
void JMessage::TSequenceProcessor::on_jump_register(JMessage::TSequenceProcessor::jumpPfn param_0,
                                                    u32 param_1) {
    eStatus_ = STATUS_JUMP;
    oProcess2_.process.jump_process.jumpFn = param_0;
    oProcess2_.process.jump_process.u32Target = param_1;
}

/* 802A85E4-802A8610 2A2F24 002C+00 1/1 0/0 0/0 .text
 * on_jump_isReady__Q28JMessage18TSequenceProcessorFv           */
bool JMessage::TSequenceProcessor::on_jump_isReady() {
    return do_jump_isReady();
}

/* 802A8610-802A8690 2A2F50 0080+00 1/1 0/0 0/0 .text
 * on_jump__Q28JMessage18TSequenceProcessorFPCvPCc              */
void JMessage::TSequenceProcessor::on_jump(void const* param_0, char const* param_1) {
    on_resetStatus_(param_1);
    do_jump(param_0, param_1);
}

/* 802A8690-802A86A0 2A2FD0 0010+00 1/1 0/0 0/0 .text
 * on_branch_register__Q28JMessage18TSequenceProcessorFPFPCQ28JMessage18TSequenceProcessorUl_PCvPCvUl
 */
void JMessage::TSequenceProcessor::on_branch_register(
    JMessage::TSequenceProcessor::branchPfn param_0, void const* param_1, u32 param_2) {
    oProcess2_.process.branch_process.branchFn = param_0;
    oProcess2_.process.branch_process.pTarget = param_1;
    oProcess2_.process.branch_process.uTarget = param_2;
}

/* 802A86A0-802A86D4 2A2FE0 0034+00 1/1 0/0 0/0 .text
 * on_branch_query__Q28JMessage18TSequenceProcessorFUl          */
void JMessage::TSequenceProcessor::on_branch_query(u32 param_0) {
    eStatus_ = STATUS_BRANCH;
    do_branch_query(param_0);
}

/* 802A86D4-802A8700 2A3014 002C+00 1/1 0/0 0/0 .text
 * on_branch_queryResult__Q28JMessage18TSequenceProcessorFv     */
u32 JMessage::TSequenceProcessor::on_branch_queryResult() {
    return do_branch_queryResult();
}

/* 802A8700-802A8780 2A3040 0080+00 1/1 0/0 0/0 .text
 * on_branch__Q28JMessage18TSequenceProcessorFPCvPCc            */
void JMessage::TSequenceProcessor::on_branch(void const* param_0, char const* param_1) {
    on_resetStatus_(param_1);
    do_branch(param_0, param_1);
}

/* 802A8780-802A8788 2A30C0 0008+00 1/0 0/0 0/0 .text
 * do_isReady__Q28JMessage18TSequenceProcessorFv                */
bool JMessage::TSequenceProcessor::do_isReady() {
    return true;
}

/* 802A8788-802A8790 2A30C8 0008+00 1/0 0/0 0/0 .text
 * do_jump_isReady__Q28JMessage18TSequenceProcessorFv           */
bool JMessage::TSequenceProcessor::do_jump_isReady() {
    return true;
}

/* 802A8790-802A8794 2A30D0 0004+00 1/0 0/0 0/0 .text
 * do_jump__Q28JMessage18TSequenceProcessorFPCvPCc              */
void JMessage::TSequenceProcessor::do_jump(void const* param_0, char const* param_1) {}

/* 802A8794-802A8798 2A30D4 0004+00 1/0 2/0 0/0 .text
 * do_branch_query__Q28JMessage18TSequenceProcessorFUl          */
void JMessage::TSequenceProcessor::do_branch_query(u32 param_0) {}

/* 802A8798-802A87A0 2A30D8 0008+00 1/0 2/0 0/0 .text
 * do_branch_queryResult__Q28JMessage18TSequenceProcessorFv     */
s32 JMessage::TSequenceProcessor::do_branch_queryResult() {
    return -2;
}

/* 802A87A0-802A87A4 2A30E0 0004+00 1/0 2/0 0/0 .text
 * do_branch__Q28JMessage18TSequenceProcessorFPCvPCc            */
void JMessage::TSequenceProcessor::do_branch(void const* param_0, char const* param_1) {}

/* 802A87A4-802A87C0 2A30E4 001C+00 1/0 2/0 0/0 .text
 * do_resetStatus___Q28JMessage18TSequenceProcessorFPCc         */
void JMessage::TSequenceProcessor::do_resetStatus_(char const* param_0) {
    eStatus_ = STATUS_READY;

    if (param_0 != NULL) {
        eStatus_ = STATUS_NORMAL;
    }
}

/* 802A87C0-802A87D0 2A3100 0010+00 1/0 2/0 0/0 .text
 * do_setBegin_isReady___Q28JMessage18TSequenceProcessorCFv     */
bool JMessage::TSequenceProcessor::do_setBegin_isReady_() const {
    return eStatus_ == STATUS_READY;
}

/* 802A87D0-802A87D4 2A3110 0004+00 1/0 2/0 0/0 .text
 * do_begin___Q28JMessage18TSequenceProcessorFPCvPCc            */
void JMessage::TSequenceProcessor::do_begin_(void const* param_0, char const* param_1) {}

/* 802A87D4-802A87E0 2A3114 000C+00 1/0 2/0 0/0 .text do_end___Q28JMessage18TSequenceProcessorFv
 */
void JMessage::TSequenceProcessor::do_end_() {
    eStatus_ = STATUS_ONE;
}

/* 802A87E0-802A892C 2A3120 014C+00 2/0 2/0 0/0 .text
 * do_tag___Q28JMessage18TSequenceProcessorFUlPCvUl             */
void JMessage::TSequenceProcessor::do_tag_(u32 uTag, void const* data, u32 uSize) {
    char* temp = (char*)data;
    u32 group = data::getTagGroup(uTag);
    u32 code = data::getTagCode(uTag);

    switch (group) {
    case 0xFF:
        switch (code) {
        case 0:
        case 1:
        case 2:
        case 3:
            break;
        case 6:
            u32 tmp = JGadget::binary::TParseValue<u32, TParseValue_endian_big_>::parse(temp);
            on_jump_register(process_onJump_, tmp);
            break;
        case 7:
            break;
        default:
            TProcessor::do_tag_(uTag, temp, uSize);
            break;
        }
        break;
    case 0xFC:
        on_jump_register(process_onJump_limited_, code);
        break;
    case 0xFB:
        on_branch_register(process_onBranch_limited_, temp, code);
        break;
    case 0xFA:
        on_branch_register(process_onBranch_, temp, code);
        break;
    case 0xF9:
        on_branch_query(code);
        break;
    case 0xF8:
        on_branch_register(process_onBranch_limited_, temp + 2,
                           JGadget::binary::TParseValue<u16, TParseValue_endian_big_>::parse(temp));
        on_branch_query(code);
        break;
    case 0xF7:
        on_branch_register(process_onBranch_, temp + 2,
                           JGadget::binary::TParseValue<u16, TParseValue_endian_big_>::parse(temp));
        on_branch_query(code);
        break;
    default:
        TProcessor::do_tag_(uTag, temp, uSize);
        break;
    }
}

/* 802A892C-802A8944 2A326C 0018+00 1/1 0/0 0/0 .text
 * process_setMessageIndex_reserved___Q28JMessage18TSequenceProcessorFUs */
#ifdef NONMATCHING
void JMessage::TSequenceProcessor::process_setMessageIndex_reserved_(u16 u16Index) {
    JUT_ASSERT(890, u16Index >= 0xff00);
    if (u16Index != -1) {
        return;
    } 
}
#else
#pragma push
#pragma optimization_level 0
#pragma optimizewithasm off
asm void JMessage::TSequenceProcessor::process_setMessageIndex_reserved_(u16 param_0) {
    nofralloc
#include "asm/JSystem/JMessage/processor/process_setMessageIndex_reserved___Q28JMessage18TSequenceProcessorFUs.s"
}
#pragma pop
#endif

/* 802A8944-802A89B8 2A3284 0074+00 4/4 0/0 0/0 .text
 * process_setMessageCode___Q28JMessage18TSequenceProcessorFPCQ28JMessage18TSequenceProcessorUsUs */
void* JMessage::TSequenceProcessor::process_setMessageCode_(
    JMessage::TSequenceProcessor const* param_0, u16 param_1, u16 param_2) {
    if (param_2 >= 0xFF00) {
        process_setMessageIndex_reserved_(param_2);
        return NULL;
    }

    TControl* pControl = param_0->getControl();

    if (pControl->setMessageCode_inSequence_(param_0, param_1, param_2)) {
        return pControl->getMessageEntry();
    }

    return NULL;
}

/* 802A89B8-802A89EC 2A32F8 0034+00 1/1 0/0 0/0 .text
 * process_onJump_limited___Q28JMessage18TSequenceProcessorFPCQ28JMessage18TSequenceProcessor */
const void*
JMessage::TSequenceProcessor::process_onJump_limited_(JMessage::TSequenceProcessor const* param_0) {
    return process_setMessageIndex_(param_0, param_0->oProcess2_.process.jump_process.u32Target);
}

/* 802A89EC-802A8A18 2A332C 002C+00 1/1 0/0 0/0 .text
 * process_onJump___Q28JMessage18TSequenceProcessorFPCQ28JMessage18TSequenceProcessor */
const void*
JMessage::TSequenceProcessor::process_onJump_(JMessage::TSequenceProcessor const* param_0) {
    return process_setMessageCode_(param_0, param_0->oProcess2_.process.jump_process.u32Target);
}

/* 802A8A18-802A8A50 2A3358 0038+00 1/1 0/0 0/0 .text
 * process_onBranch_limited___Q28JMessage18TSequenceProcessorFPCQ28JMessage18TSequenceProcessorUl */
const void*
JMessage::TSequenceProcessor::process_onBranch_limited_(JMessage::TSequenceProcessor const* param_0,
                                                        u32 uTargetIndex) {
    return process_setMessageIndex_(
        param_0, JGadget::binary::TParseValue<u16, TParseValue_endian_big_>::parse(
                     param_0->oProcess2_.process.branch_process.pTarget, uTargetIndex));
}

/* 802A8A50-802A8A84 2A3390 0034+00 1/1 0/0 0/0 .text
 * process_onBranch___Q28JMessage18TSequenceProcessorFPCQ28JMessage18TSequenceProcessorUl */
const void*
JMessage::TSequenceProcessor::process_onBranch_(JMessage::TSequenceProcessor const* param_0,
                                                u32 uTargetIndex) {
    return process_setMessageCode_(
        param_0, JGadget::binary::TParseValue<u32, TParseValue_endian_big_>::parse(
                     param_0->oProcess2_.process.branch_process.pTarget, uTargetIndex));
}

/* 802A8A84-802A8AC0 2A33C4 003C+00 0/0 4/4 0/0 .text
 * __ct__Q28JMessage19TRenderingProcessorFPCQ28JMessage10TReference */
JMessage::TRenderingProcessor::TRenderingProcessor(JMessage::TReference const* param_0)
    : TProcessor(param_0) {}

/* 802A8AC0-802A8B20 2A3400 0060+00 1/0 6/6 0/0 .text __dt__Q28JMessage19TRenderingProcessorFv */
JMessage::TRenderingProcessor::~TRenderingProcessor() {}

/* 802A8B20-802A8BA4 2A3460 0084+00 0/0 4/4 0/0 .text
 * process__Q28JMessage19TRenderingProcessorFPCc                */
int JMessage::TRenderingProcessor::process(char const* param_0) {
    do {
        if (pszCurrent_ == param_0) {
            on_end();
            return 0;
        }
    } while (process_character_());

    return 0;
}

/* 802A8BA4-802A8BA8 2A34E4 0004+00 1/0 4/0 0/0 .text
 * do_begin___Q28JMessage19TRenderingProcessorFPCvPCc           */
void JMessage::TRenderingProcessor::do_begin_(void const* param_0, char const* param_1) {}

/* 802A8BA8-802A8BAC 2A34E8 0004+00 1/0 4/0 0/0 .text do_end___Q28JMessage19TRenderingProcessorFv
 */
void JMessage::TRenderingProcessor::do_end_() {}

/* 802A8BAC-802A8C24 2A34EC 0078+00 1/0 4/0 0/0 .text
 * do_tag___Q28JMessage19TRenderingProcessorFUlPCvUl            */
void JMessage::TRenderingProcessor::do_tag_(u32 uTag, void const* data, u32 uSize) {
    u32 group = data::getTagGroup(uTag);
    u32 code = data::getTagCode(uTag);

    switch (group) {
    case 0xFF:
        switch (code) {
        case 0:
        case 1:
        case 2:
        case 3:
            break;
        case 6:
            break;
        case 7:
            break;
        default:
            TProcessor::do_tag_(uTag, data, uSize);
            break;
        }
        break;
    case 0xFC:
    case 0xFB:
    case 0xFA:
    case 0xF9:
    case 0xF8:
    case 0xF7:
        break;
    default:
        TProcessor::do_tag_(uTag, data, uSize);
        break;
    }
}

/* 802A8C24-802A8C44 2A3564 0020+00 1/1 0/0 0/0 .text on_message__Q28JMessage10TProcessorCFUl */
const char* JMessage::TProcessor::on_message(u32 param_0) const {
    return getMessageText_messageCode(param_0);
}

/* 802A8C44-802A8CDC 2A3584 0098+00 1/1 0/0 0/0 .text
 * getMessageText_messageCode__Q28JMessage10TProcessorCFUl      */
const char* JMessage::TProcessor::getMessageText_messageCode(u32 param_0) const {
    return getMessageText_messageCode(param_0 >> 0x10, param_0 & 0xFFFF);
}
